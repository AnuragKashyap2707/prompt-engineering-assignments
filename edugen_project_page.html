<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EduGen — RAG Educational Content Generator</title>
  <style>
    :root { --bg:#0b1220; --card:#111a2b; --muted:#a8b3cf; --text:#e6ecff; --accent:#6aa6ff; --accent2:#8ef0b6; }
    *{box-sizing:border-box} html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans",sans-serif}
    a{color:var(--accent)} a:hover{opacity:.9}
    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    .hero{padding:56px 0;text-align:center}
    .title{font-size:40px;font-weight:800;letter-spacing:.3px;margin:0 0 8px}
    .subtitle{color:var(--muted);margin:0 auto 18px;max-width:820px}
    .btn{display:inline-block;padding:12px 18px;border-radius:12px;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#0b1220;text-decoration:none;font-weight:700}
    .grid{display:grid;gap:16px}
    @media(min-width:800px){ .grid-3{grid-template-columns:repeat(3,1fr)} .grid-2{grid-template-columns:repeat(2,1fr)} }
    .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:18px}
    .card h3{margin:6px 0 8px}
    .muted{color:var(--muted)}
    .pill{display:inline-block;padding:6px 10px;border:1px solid rgba(255,255,255,.15);border-radius:999px;font-size:12px;color:var(--muted)}
    .section-title{margin:28px 0 10px;font-size:24px}
    .img{width:100%;border-radius:14px;border:1px solid rgba(255,255,255,.08)}
    table{width:100%;border-collapse:collapse;margin-top:8px}
    th,td{padding:10px;border-bottom:1px solid rgba(255,255,255,.08);text-align:left}
    .footer{color:var(--muted);text-align:center;padding:32px 0 16px}
    .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;background:#0e172a;padding:2px 6px;border-radius:6px;border:1px solid rgba(255,255,255,.1)}
  </style>
</head>
<body>
  <header class="hero wrap">
    <div class="pill">Generative AI • RAG • Multimodal • Evaluation</div>
    <h1 class="title">EduGen — RAG Educational Content Generator</h1>
    <p class="subtitle">Upload PDFs and generate grounded <strong>lessons</strong>, <strong>quizzes</strong>, <strong>summaries</strong>, and <strong>flashcards</strong>. Powered by Prompt Engineering, Retrieval‑Augmented Generation (sparse + vector + hybrid), a concept‑map visual, and quantitative retrieval metrics.</p>
    <p>
      <a class="btn" href="#demo">Open Demo</a>
      &nbsp;&nbsp;
      <a class="btn" style="background:linear-gradient(90deg,#ffd36a,#ff8ea3)" href="YOUR_GITHUB_URL_HERE" target="_blank" rel="noopener">GitHub Repository</a>
    </p>
  </header>

  <main class="wrap">
    <section class="grid grid-3">
      <div class="card">
        <h3>Prompt Engineering</h3>
        <p class="muted">System and output templates (lesson, quiz, summary, flashcards), plus guardrails for safe prompts.</p>
      </div>
      <div class="card">
        <h3>RAG: Sparse + Vector + Hybrid</h3>
        <p class="muted">TF‑IDF/BM25 and Sentence‑Transformers + FAISS with a tunable hybrid combiner (α) for robust retrieval.</p>
      </div>
      <div class="card">
        <h3>Multimodal Visual</h3>
        <p class="muted">Automatically generates a concept‑map PNG from retrieved context to highlight key ideas and connections.</p>
      </div>
      <div class="card">
        <h3>Static Web Export</h3>
        <p class="muted">Produces a shareable web page with latest outputs, visuals, and metrics. Works great with GitHub Pages.</p>
      </div>
      <div class="card">
        <h3>Evaluation</h3>
        <p class="muted">Computes Hit@1/3/5 and MRR on a small devset; numbers are embedded below if JSON is present.</p>
      </div>
      <div class="card">
        <h3>Tests & Safety</h3>
        <p class="muted">Minimal tests verify export artifacts; simple guardrails mitigate prompt injection and secret leaks.</p>
      </div>
    </section>

    <section id="demo" class="section">
      <h2 class="section-title">Interactive Demo</h2>
      <p class="muted">If you have a live Gradio share URL, paste it into the input below and press <span class="kbd">Load</span>. For local demos (e.g., <span class="kbd">http://127.0.0.1:7860</span>) the browser may block the iframe; in that case open the link directly in a new tab.</p>
      <div class="card">
        <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
          <input id="demoUrl" placeholder="https://your-gradio-share-url" style="flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,.15);background:#0f192e;color:#e6ecff">
          <button onclick="loadDemo()" class="btn">Load</button>
          <a id="openDemo" class="pill" target="_blank" rel="noopener" href="#">Open in new tab</a>
        </div>
        <div style="margin-top:10px">
          <iframe id="demoFrame" src="" title="Interactive Demo" style="width:100%;height:520px;border:1px solid rgba(255,255,255,.1);border-radius:12px;background:#0f192e"></iframe>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">Key Features</h2>
      <div class="grid grid-2">
        <div class="card">
          <h3>Architecture</h3>
          <p class="muted">PDFs → chunking → sparse & vector indexes → hybrid retrieval → prompt‑engineered generation → concept map → static export → metrics.</p>
          <img class="img" src="./assets/architecture.png" alt="Architecture diagram (place your file at ./assets/architecture.png)">
        </div>
        <div class="card">
          <h3>Concept Map</h3>
          <p class="muted">An automatically generated visual summary of key terms and their relations, derived from retrieved context.</p>
          <img class="img" src="./assets/concept_map.png" alt="Concept map (place your file at ./assets/concept_map.png)">
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">Retrieval Metrics</h2>
      <p class="muted">If <span class="kbd">outputs/retrieval_metrics.json</span> is present alongside this file, the table fills automatically.</p>
      <div class="card">
        <table id="metricsTable">
          <thead><tr><th>Retriever</th><th>Hit@1</th><th>Hit@3</th><th>Hit@5</th><th>MRR</th><th>N</th></tr></thead>
          <tbody>
            <tr><td colspan="6" class="muted">Awaiting metrics JSON…</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">Documentation</h2>
      <div class="card">
        <ul>
          <li><strong>Notebook:</strong> <span class="muted">EduGen_All_in_One_MAX_RAG_UI_FULL (3).ipynb</span></li>
          <li><strong>README:</strong> include <span class="kbd">README.md</span> from the repo root</li>
          <li><strong>Run order:</strong> install → add PDFs → build KB → vector/hybrid cells → launch UI → concept map → web export → metrics → tests</li>
        </ul>
        <p class="muted">Replace <span class="kbd">YOUR_GITHUB_URL_HERE</span> at the top with your repo URL before publishing.</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    © 2025 EduGen • Built for Generative AI course submission
  </footer>

  <script>
    async function loadJSON(path){
      try{
        const res = await fetch(path, {cache:"no-store"});
        if(!res.ok) throw new Error("HTTP "+res.status);
        return await res.json();
      }catch(e){ return null; }
    }
    function fillMetrics(data){
      const tbody = document.querySelector("#metricsTable tbody");
      if(!data){ tbody.innerHTML = '<tr><td colspan="6" class="muted">metrics JSON not found</td></tr>'; return; }
      const keys = Object.keys(data);
      tbody.innerHTML = keys.map(k=>{
        const r = data[k];
        return `<tr><td>${k}</td><td>${r["Hit@1"]??""}</td><td>${r["Hit@3"]??""}</td><td>${r["Hit@5"]??""}</td><td>${r["MRR"]??""}</td><td>${r["N"]??""}</td></tr>`;
      }).join("");
    }
    async function init(){
      const m = await loadJSON("./outputs/retrieval_metrics.json");
      fillMetrics(m);
    }
    function loadDemo(){
      const url = document.getElementById("demoUrl").value.trim();
      const fr = document.getElementById("demoFrame");
      const a  = document.getElementById("openDemo");
      if(url){ fr.src=url; a.href=url; a.textContent="Open current demo"; }
    }
    init();
  </script>
</body>
</html>
